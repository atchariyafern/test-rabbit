import React from 'react';
import { Story } from '@storybook/react';
import { withKnobs } from '@storybook/addon-knobs';
import { useFormik } from 'formik';
import * as Yup from 'yup';
import thaiIdValidation from '../../../lib/thaiId';

import ThaiId, { ThaiIdProps } from './ThaiId';

export default {
  component: ThaiId,
  title: 'components/ThaiId',
  decorators: [withKnobs],
};

export const Default: Story<ThaiIdProps> = () => {
  const formik = useFormik({
    initialValues: {
      thai_id: undefined,
    },
    validationSchema: Yup.object().shape({
      thai_id: thaiIdValidation(),
    }),
    enableReinitialize: true,
    onSubmit: () => undefined,
  });

  return (
    <ThaiId
      t={(s) => s}
      formik={formik}
      handleNextButton={() => null}
      question={{ tipText: 'tipText', label: 'label', code: 'thai_id' }}
      isConfirmButton={false}
    />
  );
};
